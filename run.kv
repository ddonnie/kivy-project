<Controller>:
    id: bl
    popup: increment.__self__
    intervalContainer: intervalContainer.__self__
    intervalCarouselMinutes: intervalCarouselMinutes.__self__
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'Sailfish.png'

    FloatLayout: #Buttons To Remove and To Add Interval
        size_hint: 1,.15
        pos_hint: {'center_x':.5,'y': .85}
#        canvas.before:
#            Color:
#                rgb: 1,0,0,1
#            Rectangle:
#                pos: self.pos
#                size: self.size
        IconButton:
            on_release: root.remove_interval()
            pos_hint: {'center_y':.5,'center_x': .2}
            IconImage:
                source: 'data/icons/ic_remove_circle_outline_white_48dp.png'

        IconButton:
            on_release: increment.open()
            pos_hint: {'center_y':.5,'center_x': .8}
            IconImage:
                source: 'data/icons/ic_add_circle_outline_white_48dp.png'
                size: 48, 48


    ScrollView: #Interval Container
        pos_hint: {'center_x': .5,'center_y':.5}
        size_hint: 1, .7
        do_scroll_x: False
#        canvas.before:
#            Color:
#                rgb: 0,1,0,1
#            Rectangle:
#                pos: self.pos
#                size: self.size
        GridLayout:
            id: intervalContainer
            cols: 1
            padding: 48
            spacing: 96
            height: self.minimum_height
            size_hint: 1, None
            do_scroll_x: False

    IconButton:    #'Set' Button
        size_hint: 1,.15
        pos_hint: {'center_x':.8,'y': .05}
        IconImage:
            source: 'data/icons/ic_forward_white_48dp.png'

    Popup:
        id: increment
        separator_color: 0, 0, 0, 0
        title: 'Set Interval Time'
        title_align: 'center'
        title_size: 24
        on_parent: if self.parent == bl: bl.remove_widget(self)
        content: popupcontent

        FloatLayout:
            id: popupcontent
            Carousel:
                id:intervalCarouselMinutes
                loop: True
                direction: 'bottom'
                anim_move_duration: 0.1
                pos_hint: {'center_x': .5, 'center_y': .5}

            IconButton:
                on_release: root.set_interval()
                pos_hint: {'center_y':.05,'center_x': .8}
                IconImage:
                    source: 'data/icons/ic_check_white_48dp.png'

            IconButton:
                on_release: increment.dismiss()
                pos_hint: {'center_y':.05,'center_x': .2}
                IconImage:
                    source: 'data/icons/ic_cancel_white_48dp.png'

<IconButton@Button>:
    size_hint: None,None
    size: 48,48
    background_color: 0, 0, 0, 0

<IconImage@Image>:
    size: 48, 48
    center_x: self.parent.center_x
    center_y: self.parent.center_y












